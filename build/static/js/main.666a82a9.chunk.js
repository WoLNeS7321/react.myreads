(this["webpackJsonpreactnd-project-myreads-master"]=this["webpackJsonpreactnd-project-myreads-master"]||[]).push([[0],{21:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),o=n(14),s=n.n(o),r=n(30),i=n(5),l=n(6),h=n(8),u=n(7),b=n(31),j=n(32),d=n(9),f="https://reactnd-books-api.udacity.com",O=localStorage.token;O||(O=localStorage.token=Math.random().toString(36).substr(-8));var g={Accept:"application/json",Authorization:O},k=function(e,t){return fetch("".concat(f,"/books/").concat(e.id),{method:"PUT",headers:Object(d.a)(Object(d.a)({},g),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},p=function(e,t){return fetch("".concat(f,"/search"),{method:"POST",headers:Object(d.a)(Object(d.a)({},g),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e,maxResults:t})}).then((function(e){return e.json()})).then((function(e){return e.books}))},v=(n(21),n(16)),A=n(0),m=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).updateShelf=function(t){return e.props.changeShelf(e.props.book,t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.book,a=t.books,c="none",o=Object(v.a)(a);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(s.id===n.id){c=s.shelf;break}}}catch(r){o.e(r)}finally{o.f()}return Object(A.jsx)("div",{className:"book-shelf-changer",children:Object(A.jsxs)("select",{onChange:this.updateShelf,defaultValue:c,children:[Object(A.jsx)("option",{value:"none",disabled:!0,children:"Move to..."}),Object(A.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(A.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(A.jsx)("option",{value:"read",children:"Read"}),Object(A.jsx)("option",{value:"none",children:"None"})]})})}}]),n}(a.Component),y=function(e){var t=e.book,n=e.books,a=e.changeShelf,c=t.imageLinks&&t.imageLinks.thumbnail?t.imageLinks.thumbnail:"data:image/png;base64,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",o=t.title?t.title:"No title available";return Object(A.jsx)("li",{children:Object(A.jsxs)("div",{className:"book",children:[Object(A.jsxs)("div",{className:"book-top",children:[Object(A.jsx)("div",{className:"book-cover",style:{backgroundImage:"url(".concat(c,")")}}),Object(A.jsx)(m,{book:t,books:n,changeShelf:a})]}),Object(A.jsx)("div",{className:"book-title",children:o}),t.authors&&t.authors.map((function(e,t){return Object(A.jsx)("div",{className:"book-authors",children:e},t)}))]})})},w=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.books,n=e.changeShelf;return Object(A.jsx)("ol",{className:"books-grid",children:t.map((function(e){return Object(A.jsx)(y,{book:e,books:t,changeShelf:n},e.id)}))})}}]),n}(a.Component),x=function(e){var t=e.books,n=e.changeShelf;return Object(A.jsx)("div",{className:"list-books-content",children:[{type:"currentlyReading",title:"Currently Reading"},{type:"wantToRead",title:"Want to Read"},{type:"read",title:"Read"}].map((function(e,a){var c=t.filter((function(t){return t.shelf===e.type}));return Object(A.jsxs)("div",{className:"bookshelf",children:[Object(A.jsx)("h2",{className:"bookshelf-title",children:e.title}),Object(A.jsx)("div",{className:"bookshelf-books",children:Object(A.jsx)(w,{books:c,changeShelf:n})})]},a)}))})},B=n(29),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:"",newBooks:[],searchErr:!1},e.getBooks=function(t){var n=t.target.value;e.setState({query:n}),n?p(n.trim(),20).then((function(t){t.length>0?e.setState({newBooks:t,searchErr:!1}):e.setState({newBooks:[],searchErr:!0})})):e.setState({newBooks:[],searchErr:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.query,n=e.newBooks,a=e.searchErr,c=this.props,o=c.books,s=c.changeShelf;return Object(A.jsxs)("div",{className:"search-books",children:[Object(A.jsxs)("div",{className:"search-books-bar",children:[Object(A.jsx)(B.a,{className:"close-search",to:"/",children:"Close"}),Object(A.jsx)("div",{className:"search-books-input-wrapper",children:Object(A.jsx)("input",{type:"text",placeholder:"Search by title or author",value:t,onChange:this.getBooks})})]}),Object(A.jsxs)("div",{className:"search-books-results",children:[n.length>0&&Object(A.jsxs)("div",{children:[Object(A.jsxs)("h3",{children:["Search returned ",n.length," books "]}),Object(A.jsx)("ol",{className:"books-grid",children:n.map((function(e){return Object(A.jsx)(y,{book:e,books:o,changeShelf:s},e.id)}))})]}),a&&Object(A.jsx)("h3",{children:"Search did not return any books. Please try again!"})]})]})}}]),n}(a.Component),M=n.p+"static/media/stacked-books.e0a62019.jpg",q=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{className:"not-found-title",children:"These are not the books you are looking for..."}),Object(A.jsxs)("figure",{className:"not-found-img",children:[Object(A.jsx)("img",{src:M,alt:"Page Not Found"}),Object(A.jsx)("figcaption",{children:"Photo by Hope House Press - Leather Diary Studio on Unsplash"})]}),Object(A.jsx)("div",{className:"home-link",children:Object(A.jsx)(B.a,{to:"/",children:"Return home and try again"})})]})},C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={books:[]},e.changeShelf=function(t,n){k(t,n).then((function(a){t.shelf=n,e.setState((function(e){return{books:e.books.filter((function(e){return e.id!==t.id})).concat(t)}}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f,"/books"),{headers:g}).then((function(e){return e.json()})).then((function(e){return e.books})).then((function(t){return e.setState({books:t})}))}},{key:"render",value:function(){var e=this,t=this.state.books;return Object(A.jsx)("div",{className:"app",children:Object(A.jsxs)(b.a,{children:[Object(A.jsx)(j.a,{path:"/search",render:function(){return Object(A.jsx)(N,{books:t,changeShelf:e.changeShelf})}}),Object(A.jsx)(j.a,{exact:!0,path:"/",render:function(){return Object(A.jsxs)("div",{className:"list-books",children:[Object(A.jsx)("div",{className:"list-books-title",children:Object(A.jsx)("h1",{children:"MyReads"})}),Object(A.jsx)(x,{books:t,changeShelf:e.changeShelf}),Object(A.jsx)("div",{className:"open-search",children:Object(A.jsx)(B.a,{to:"/search",children:"Search"})})]})}}),Object(A.jsx)(j.a,{component:q})]})})}}]),n}(c.a.Component);n(26);s.a.render(Object(A.jsx)(r.a,{children:Object(A.jsx)(C,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.666a82a9.chunk.js.map